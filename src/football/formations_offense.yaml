# lanes: left | middle | right
# depths: line | backfield | wide
# NOTE: "roles" are hints for where specific named players/positions start.
# Your current engine only needs "placements"; roles help the play-designer & future resolver.

formations:
  - key: i_form
    label: "I-Formation (21)"
    allowed_personnel: ["21"]
    placements:
      # OL (5)
      - { pos: OL, lane: left,   depth: line,      count: 1 }
      - { pos: OL, lane: middle, depth: line,      count: 3 }
      - { pos: OL, lane: right,  depth: line,      count: 1 }
      # QB + RB + FB
      - { pos: QB, lane: middle, depth: backfield, count: 1 }
      - { pos: RB, lane: middle, depth: backfield, count: 2 }   # RB1 + FB share RB slot
      # TE inline + 2 WR wide
      - { pos: TE, lane: right,  depth: line,      count: 1 }
      - { pos: WR, lane: left,   depth: wide,      count: 1 }
      - { pos: WR, lane: right,  depth: wide,      count: 1 }
    roles:
      QB:         { lane: middle, depth: backfield }
      RB1:        { lane: middle, depth: backfield }   # tailback
      FB:         { lane: middle, depth: backfield }   # directly in front of RB1 (engine can offset later)
      TE:         { lane: right,  depth: line }
      WR_left:    { lane: left,   depth: wide }
      WR_right:   { lane: right,  depth: wide }
      LT:         { lane: left,   depth: line }
      LG:         { lane: middle, depth: line }
      C:          { lane: middle, depth: line }
      RG:         { lane: middle, depth: line }
      RT:         { lane: right,  depth: line }

  - key: strong_i
    label: "Strong I (22)"
    allowed_personnel: ["22"]
    placements:
      # OL (5)
      - { pos: OL, lane: left,   depth: line,      count: 1 }
      - { pos: OL, lane: middle, depth: line,      count: 3 }
      - { pos: OL, lane: right,  depth: line,      count: 1 }
      # QB + 2 RB
      - { pos: QB, lane: middle, depth: backfield, count: 1 }
      - { pos: RB, lane: middle, depth: backfield, count: 2 }   # RB1 + FB
      # 2 TE inline, 1 WR wide (22 = 1 WR)
      - { pos: TE, lane: left,   depth: line,      count: 1 }
      - { pos: TE, lane: right,  depth: line,      count: 1 }
      - { pos: WR, lane: right,  depth: wide,      count: 1 }   # default WR side (can flip)
    roles:
      QB:          { lane: middle, depth: backfield }
      RB1:         { lane: middle, depth: backfield }
      FB:          { lane: middle, depth: backfield }
      TE_left:     { lane: left,   depth: line }
      TE_right:    { lane: right,  depth: line }
      WR_right:    { lane: right,  depth: wide }    # only one WR in 22
      LT:          { lane: left,   depth: line }
      LG:          { lane: middle, depth: line }
      C:           { lane: middle, depth: line }
      RG:          { lane: middle, depth: line }
      RT:          { lane: right,  depth: line }

  - key: singleback_11
    label: "Singleback (11)"
    allowed_personnel: ["11"]
    placements:
      # OL (5)
      - { pos: OL, lane: left,   depth: line,      count: 1 }
      - { pos: OL, lane: middle, depth: line,      count: 3 }
      - { pos: OL, lane: right,  depth: line,      count: 1 }
      # QB + RB
      - { pos: QB, lane: middle, depth: backfield, count: 1 }
      - { pos: RB, lane: middle, depth: backfield, count: 1 }
      # TE inline + 3 WR (slot/right bias matches our plays)
      - { pos: TE, lane: right,  depth: line,      count: 1 }
      - { pos: WR, lane: left,   depth: wide,      count: 1 }   # WR_left_wide
      - { pos: WR, lane: right,  depth: wide,      count: 2 }   # WR_right_wide + WR_right_slot
    roles:
      QB:             { lane: middle, depth: backfield }
      RB1:            { lane: middle, depth: backfield }
      TE:             { lane: right,  depth: line }
      WR_left_wide:   { lane: left,   depth: wide }
      WR_right_wide:  { lane: right,  depth: wide }
      WR_right_slot:  { lane: right,  depth: wide }  # “slot” is a UI hint; engine still sees wide/right
      LT:             { lane: left,   depth: line }
      LG:             { lane: middle, depth: line }
      C:              { lane: middle, depth: line }
      RG:             { lane: middle, depth: line }
      RT:             { lane: right,  depth: line }

  - key: spread_10
    label: "Spread (10)"
    allowed_personnel: ["10"]
    placements:
      # OL (5)
      - { pos: OL, lane: left,   depth: line,      count: 1 }
      - { pos: OL, lane: middle, depth: line,      count: 3 }
      - { pos: OL, lane: right,  depth: line,      count: 1 }
      # QB + RB
      - { pos: QB, lane: middle, depth: backfield, count: 1 }
      - { pos: RB, lane: middle, depth: backfield, count: 1 }
      # 4 WR (2×2 with slots)
      - { pos: WR, lane: left,   depth: wide,      count: 2 }   # WR_left_wide + WR_left_slot
      - { pos: WR, lane: right,  depth: wide,      count: 2 }   # WR_right_slot + WR_right_wide
    roles:
      QB:             { lane: middle, depth: backfield }
      RB1:            { lane: middle, depth: backfield }
      WR_left_wide:   { lane: left,   depth: wide }
      WR_left_slot:   { lane: left,   depth: wide }
      WR_right_slot:  { lane: right,  depth: wide }
      WR_right_wide:  { lane: right,  depth: wide }
      LT:             { lane: left,   depth: line }
      LG:             { lane: middle, depth: line }
      C:              { lane: middle, depth: line }
      RG:             { lane: middle, depth: line }
      RT:             { lane: right,  depth: line }
